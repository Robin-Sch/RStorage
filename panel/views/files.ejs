<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>RStorage panel</title>
		<link rel="stylesheet" href="/css/index.css">
		<script src="/js/download.min.js"></script>
		<script src="/js/main.js"></script>
	</head>
    <body>
        <form method="POST" action="/files/<%=node%>/upload" enctype="multipart/form-data">
            <h3>Upload</h3>
            <input type="file" name="upload" />
            <input type="submit" />
        </form>
        <table>
            <tr>
                <th>Name</th>
            </tr>
            <%directories.forEach(directory => {%>
                <tr>
                    <td><a href="<%=directory%>"><%=directory%></a></td>
                    <th><button id="button" onclick="fileDelete('<%=node%>', '<%=path%>', '<%=directory%>', true);">Delete</button></th>
                </tr>
            <%})%>
            <%files.forEach(file => { %>
                <tr>
                    <td><%=file%></td>
                    <th><button id="button" onclick="fileDelete('<%=node%>', '<%=path%>', '<%=file%>', false);">Delete</button></th>
                    <th><button id="button" onclick="fileDownload('<%=node%>', '<%=path%>', '<%=file%>');">Download</button></th>
                </tr>
            <% }); %>
        </table>

        <p id="response" style="color: red"></p>
    </body>
</html>